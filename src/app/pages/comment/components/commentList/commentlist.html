<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <meta charset="utf-8" />
    <title></title>
</head>
<body>
  <div class="form-group centered">


    <p class="h3">Comments       <i class="fa fa-refresh m-1" id="refreshComments"></i></p>
    <p class="h3" style="margin-top: 10px">Is a comment of following </p>
    <div id="commentHighlight" style="overflow-y: auto;width:320px; height:220px; margin-top: 10px" readonly> </div>

    <div id="comments" class="container"></div>
    <div *ngFor="let filteredtimeline of filteredtimelines; let indexVal = index" class="card bg-outline-info text-dark  mt-5" id='{{filteredtimeline.id}}'>

      <div class="card-body">

        <p *ngIf="filteredtimeline && filteredtimeline.start && filteredtimeline.end" style="width: 50%;background-color:lightskyblue">

          <strong>Commenting</strong>: {{currentTitle.text.substring(filteredtimeline.start.valueOf(),filteredtimeline.end.valueOf())}}
        </p>
        <p>
          <strong>id</strong>: {{filteredtimeline.id }}
        </p>
        <p><strong>user</strong>: {{filteredtimeline.user}}</p>
        <p> <strong>timestampCreated</strong>:{{filteredtimeline.timestampCreated}} </p>
        <p> <strong>timestampChanged</strong>:{{filteredtimeline.timestampChanged}}</p>
        <p><strong> text</strong>:  {{filteredtimeline.text}}</p>
        <p> <strong>like</strong>: {{filteredtimeline.like}}</p>
        <p> <strong>dislike</strong>: {{filteredtimeline.dislike}}  </p>
        <p> <strong>deleted</strong>: {{filteredtimeline.isdeleted}}</p>
        <button type="button" (click)="highlightText(filteredtimeline.id)" class="btn btn-info col-2 m-1 p-1">Highlight commented text</button>
        <button type="button" (click)="getChangbox(filteredtimeline.id )" data-bs-toggle="modal" data-bs-target="#myModal" class="btn btn-warning col-1 m-1 p-1">Change</button>
        <button type="button" (click)="removeById(filteredtimeline.id )" class="btn btn-danger col-1 m-1 p-1">Remove</button>

      </div>
    </div>
  </div>

  <!--[START] https://www.w3schools.com/bootstrap5/bootstrap_modal.php -->
  <!-- The Modal -->
  <div class="modal" id="myModal">
    <div class="modal-dialog">
      <div class="modal-content">

        <!-- Modal Header -->
        <div class="modal-header">
          <h4 class="modal-title">Change comment</h4>
          <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
        </div>

        <!-- Modal body -->
        <div class="modal-body">
          <div class="form-group">
            <input type="hidden" id="commentIdChange" />
            <label for="commentUser"> User: </label>
            <input class="form-control input-sm w-50" id="commentUserChange" placeholder=" user" /><br>
          </div>
          <div class="form-group">
            <label for="commentComment"> Comment: </label>
            <textarea class="form-control input-sm w-50" id="commentCommentChange" placeholder="Comment" rows="10"></textarea>
          </div>

          <div class="form-group">
            <header> Do I like this part of video?</header>
            <div>
              <label for="likeYes">Like:</label> <input type="radio" id="likeYesChange" name="commentLike">  <br>
              <label for="dislikeYes">Dislike:</label> <input type="radio" id="dislikeYesChange" name="commentLike"><br>
              <label for="likeDislikeNo">Don't know:</label>  <input type="radio" id="likeDislikeNoChange" name="commentLike" checked><br>
            </div>
          </div>
        </div>

        <!-- Modal footer -->
        <div class="modal-footer">
          <button type="button" class="btn btn-success" data-bs-dismiss="modal" id="changeButton">Change</button>
          <button type="button" class="btn btn-warning" data-bs-dismiss="modal">Close</button>
        </div>

      </div>
    </div>
  </div>
  <!--[END] https://www.w3schools.com/bootstrap5/bootstrap_modal.php -->
</body>
</html>
