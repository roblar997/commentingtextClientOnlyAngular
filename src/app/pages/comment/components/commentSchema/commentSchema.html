<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <meta charset="utf-8" />
    <title></title>
</head>
<body>
  <p class="h3" style="margin-top: 10px">Commenting following text </p>

  
  <div id="isCommenting" style="overflow-y: auto;width:320px; height:220px; margin-top: 10px" readonly>
    <span style="background-color:white ; color:black">{{currentTitle.text.substring(0,selectStart.valueOf())}}</span>
    <span style="background-color: lightskyblue; color: black">{{currentTitle.text.substring(selectStart.valueOf(),selectEnd.valueOf())}}</span>
    <span style="background-color:white ; color:black">{{currentTitle.text.substring(selectEnd.valueOf(),currentTitle.text.length)}}</span>
  </div>
  <p class="h3" style="margin-top: 10px">Create a comment </p>
  <section id="kommentar">
    <form [formGroup]="commentSchema">
      <div class="form-group">

        <label for="commentUser"> User: </label>
        <input class="form-control input-sm w-25" formControlName="user" id="commentUser" placeholder=" user" /><br>
        <span style="color:red" *ngIf="this.commentSchema.controls['user'].status=='INVALID'"> Wrong input</span>
      </div>
      <div class="form-group">
        <label for="commentComment"> Comment: </label>
        <textarea class="form-control input-sm w-25" formControlName="text" id="commentComment" placeholder="Comment" rows="10"></textarea>
        <span style="color:red" *ngIf="this.commentSchema.controls['text'].status=='INVALID'"> Wrong input</span>
      </div>

      <div class="form-group">
        <header> Do I like this part of text?</header>
        <div>
          <label for="likeYes">Like:</label> <input formControlName="likedislikeother" value="like" type="radio" id="likeYes" name="likedislikeother">  <br>
          <label for="dislikeYes">Dislike:</label> <input formControlName="likedislikeother" value="dislike" type="radio" id="dislikeYes" name="likedislikeother"><br>
          <label for="likeDislikeNo">Don't know:</label>  <input formControlName="likedislikeother" value="dontknow" type="radio" id="likeDislikeNo" name="likedislikeother" checked><br>
          <span style="color:red" *ngIf="this.commentSchema.controls['likedislikeother'].status=='INVALID'"> Wrong input</span>
        </div>

      </div>
      <div class="row">
        <button id="addTimeline" (click)="addNewComment()" [disabled]="this.commentSchema.controls['likedislikeother'].status=='INVALID' || this.commentSchema.controls['text'].status=='INVALID' || this.commentSchema.controls['user'].status=='INVALID'" class="btn btn-success col-1 m-1 p-1"><div class="text-wrap">Comment text</div></button>
      </div>
    </form>



  </section>
</body>
</html>
